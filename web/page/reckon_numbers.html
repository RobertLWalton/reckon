<html>
<head>
<!--
File:	reckon_numbers.html
Author:	Robert L Walton <walton@acm.org>
Date:	Tue Oct 29 04:34:20 EDT 2024

The authors have placed RECKON (its files and the
content of these files) in the public domain; they
make no warranty and accept no liability for RECKON.
-->

<meta http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate" />

<title>RECKON Numbers</title>
<link href='page.css' rel='stylesheet'/>
<link rel='icon' href='data:;base64,='>

<script src='page.script'></script>

</head>

<body>


<div id='header'>
<form method='GET' action='index.html#reckon_numbers'>
<button type='submit'>INDEX</button></form>

<button type='button' onclick='NEW_WINDOW("index.html")'>
NEW WINDOW</button>
</div>

<div id='text'>

<h1 id='text-header'>RECKON Numbers</h1>

<p>
There are several types of numbers, including:
<table class='td-extra-space'>
<tr><th>Integers</th><td>0 1 -1 100 -1e2 e50</td></tr>
<tr><th>Finites</th><td>3.141529 -0.5 1.498e-6</td></tr>
<tr><th>Infinities</th><td>+inf -inf</td></tr>
<tr><th>NaNs</th><td>nan</td></tr>
<tr><th>Measures</th><td>4ft 155lb 8ft/sec</td></tr>
<tr><th>Dates</th><td>5may1946 jan2539 06/25/1938</td></tr>
</table>

Integers and finites are represented by
<em>number</em> lexemes.  Infinities and NaNs (Not-A-Numbers)
are represented by <em>numeric-word</em> lexemes.
See <a href="reckon_lexemes.html#lexemes">Lexemes</a>.
<p>
Numbers are stored in IEEE 64-bit format, except that
measures and dates add a unit to the number.
<p>
Examples for this page are in
<a href='../examples/reckon_numbers.rec' download>
<code>reckon_numbers.rec </code></a>.

<h2 id='integers'>Integers</h2>

<p>
An <b>integer</b> is represented by a number lexeme such as
<code>15</code>, <code>-15</code>, or <code>1e3</code>.
<p>
The simplest integer representation
is a string of decimal digits (more specifically,
ASCII decimal digits) optionally preceeded by a
<code>+</code> or <code>-</code> sign. 
Given this, <code>5</code>, <code>+5</code>, and <code>05</code>
all represent the same integer.  Also <code>0</code>,
<code>+0</code>, and <code>-0</code> all represent the integer zero.
<p>
It is possible to shift the decimal point in a number lexeme by appending
an exponent: thus <code>1e3</code> is <code>1</code> with
the decimal point shifted right 3 places to make <code>1000</code>.
A exponent begins with an <code>e</code> or <code>E</code>,
which is followed by an optional sign and this is followed by
a string of decimal digits.  The decimal digits represent an integer
which is the number of places the decimal point is shifted.  If the
integer is positive (<code>+</code> sign or no sign), the shift is to the
right; but if the integer is negative (<code>-</code> sign), the shift is
to the left.  Thus <code>1230</code>, <code>123e1</code>,
and <code>12300e-1</code> all represent the same integer.
<p>
A number lexeme with a decimal point represent an integer if it has an
exponent that shifts the decimal point far enough to the right.
This <code>1.23e2</code> and <code>123</code> represent the same
integer.
<p>
Integers are stored in computer memory in the IEEE 64-bit floating point
format.  This format will faithfully store integers in the range
<code>(-1e15,+1e15)</code>.
<p>
Integers are just finites that have a zero fraction part
and which are in the range
<code>(-1e15,+1e15)</code>.
Finites outside this range are not considered to be integers,
even if they have a zero fraction part, because such numbers
are not precisely represented in computer memory.
<p>
Some examples are:
<pre class='example'>
<div class='line'>456</div>456
<div class='line'>456 is integer</div>TRUE
<div class='line'>4.56e2</div>456
<div class='line'>4.56e2 is integer</div>TRUE
<div class='line'>456 == 4.56e2
    // x == y tests whether x equals y</div>TRUE
<div class='line'>-456 == -45.6e1</div>TRUE
<div class='line'>123 == 12300e-2</div>TRUE
<div class='line'>1e20 is integer
    // FALSE because 1e20 is not in range (-1e15,+1e15)</div>FALSE
<div class='line'>9 / 2 is integer</div>FALSE
<div class='line'>4.5 is integer</div>FALSE
<div class='line'>9 / 3 is integer</div>TRUE
<div class='line'>-0 == +0</div>TRUE
<div class='line'>-1 == +1</div>FALSE
</pre>
</p>

<h2 id='floating-point-numbers'>Floating Point Numbers</h2>

<p>
Floating point numbers are similar to integers except that they have
non-zero fraction digits.  E.g., <code>3.14</code> is floating
point while <code>314</code> and <code>3.00</code> are integers.
Other examples of floating point numbers are <code>314e-2</code>
and <code>5.7e-4</code>.
<p>
Actually integers are just floating point numbers with zero
fractional part (and range limited to <code>(-1e15,+1e15)</code>).
<p>
Only a bit more than 15 significant digits of a floating point number
are actually stored.  Thus <code>1 + 1e-16 == 1</code> because the two
sides of the inequality differ in the 17'th decimal place, while
<code>1 + 1e-14 == 1.00000000000001</code>.  However, floating point
numbers are actually stored in a binary representation, so the 16'th
significant digit is only partly stored, resulting in anomalies
involving the 16'th place.  Thus <code>1 + 1e-15</code>,
which differs from <code>1</code> in the 16'th place,
prints as <code>1</code> but does not actually equal <code>1</code>.

</p>

</div>

</body>

</html>


