<html>
<head>
<!--
File:	reckon_lists.html
Author:	Robert L Walton <walton@acm.org>
Date:	Sat Feb 15 03:18:05 EST 2025

The authors have placed RECKON (its files and the
content of these files) in the public domain; they
make no warranty and accept no liability for RECKON.
-->

<meta http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate" />

<title>RECKON Lists</title>
<link href='page.css' rel='stylesheet'/>
<link rel='icon' href='data:;base64,='>

<script src='page.script'></script>

</head>

<body>


<div id='header'>
<form method='GET' action='index.html#reckon_lists'>
<button type='submit'>INDEX</button></form>

<button type='button' onclick='NEW_WINDOW("index.html")'>
NEW WINDOW</button>
</div>

<div id='text'>

<h1 id='text-header'>RECKON Lists</h1>

<p>
A REKCON list is a list of values surrounded by [ ] brackets,
with the values separated by commas.
A complete set of all the examples for this page is in
<a href='../examples/reckon_lists.rec' download>
<code>reckon_lists.rec </code></a>.

</p>

<h2 id='list-construction-statements'>
    List Construction Statements</h2>

<p>
Example:
<pre class='example'>
<div class='line'>X = [1 + 0, 1 + 1, 1 + 2, 1 + 3]</div>[1, 2, 3, 4]
<div class='line'>Y = [10, 20, X, 30]</div>[10, 20, 1, 2, 3, 4, 30]
</pre>
<p>
A list construction consists of a []-bracketed expression whose comma
separated elements are subexpressions that are each evaluated to one
element of the list.  However, if an element subexpression evaluates
to another list, the elements of that list are <u>spliced</u> into the
containing list.  So you <u>cannot</u> use a list construction expression
to create a list that contains another list as an element.  This is
referred to as a `list flattening' strategy.
<p>
More Examples:
<pre class='example'>
<div class='line'>X = [1, 2, 3, 4]</div>[1, 2, 3, 4]
<div class='line'>next X = [1 + 0, 1 + 1, 1 + 2, 1 + 3]</div>[1, 2, 3, 4]
<div class='line'>Y = [10, 20, X, 30]</div>[10, 20, 1, 2, 3, 4, 30]
<div class='line'>Z = [[1, 2, 3]]</div>[1, 2, 3]
<div class='line'>next Z = [ "Baker", "Bill", "Bob", "Butch" ]</div
   >["Baker", "Bill", "Bob", "Butch"]
</pre>

</p>

<h2 id='list-element-access'>
    List Element Access</h2>

<p>
Example:
<pre class='example'>
<div class='line'>Y</div>[10, 20, 1, 2, 3, 4, 30]
<div class='line'>Z3 = Y[3]</div>2
</pre>
<p>
A list element can be read using an expression for the form:
<div class='center vspace'><i>variable-name></i>
    <code>[</code><i>index-expression</i><code>]</code></div>
<p>
The named variable must evaluate to a list, and the <i>index-expression</i>
must evaluate to an integer.  The integer is the index of the list
element to be read, where the list element indices are 0, 1, 2, 3, etc.
If the integer is not an index of an element in the list, the value of
the expression is <code>*NONE*</code>.
<p>
More Examples:
<pre class='example'>
<div class='line'>Y</div>[10, 20, 1, 2, 3, 4, 30]
<div class='line'>Z3 = Y[3]</div>2
<div class='line'>Z6 = Y[3 + 3]</div>30
<div class='line'>Z10 = Y[10]</div>*NONE*
<div class='line'>Zm1 = Y[-1]</div>*NONE*
</pre>
</p>

<h2 id='list-element-assignment'>
    List Element Assignment</h2>

<p>
Example:
<pre class='example'>
<div class='line'>X</div>[1, 2, 3, 4]
<div class='line'>X[1] = 20</div
><div class='line'>X</div>[1, 20, 3, 4]
</pre>
<p>
The same expression that can be used on the right side of an assignment
statement to read a list element:
<div class='center vspace'><i>variable-name></i>
    <code>[</code><i>index-expression</i><code>]</code></div>
<p>
can be used on the left side of an assignment statement to write
the element.  However, it is a program error to write an element that
does not exist.
<p>
More Examples:
<pre class='example'>
<div class='line'>X</div>[1, 2, 3, 4]
<div class='line'>X[1] = 20</div
><div class='line'>X</div>[1, 20, 3, 4]
<div class='line'>X[0], X[2] = X[2], X[0]</div
><div class='line'>X</div>[3, 20, 1, 4]
<div class='line'>TOP, X[3] = X[3], 400</div>4
<div class='line'>X</div>[3, 20, 1, 400]
<div class='line'>X[10] = "Bozo"</div
>!!!!!!!!!!!!!!!!!!!!!!!!! FATAL PROGRAM ERROR:
    SET: vector element does not exist
* {36:143,21,144} SET SET 16 0 2 *UNDEFINED_GEN(0x7FF4170000000000)*
    ARGS = [3, 20, 1, 400] 10
[no output due to run-time error]
</pre>
</p>

<h2 id='list-element-modification'>
    List Element Modification</h2>

<p>
Example:
<pre class='example'>
<div class='line'>X</div>[3, 20, 1, 400]
<div class='line'>X[1] + = 1000</div
><div class='line'>X</div>[3, 1020, 1, 400]
</pre>
<p>
The same expression that can be used on the right side of an assignment
statement to read a list element and on the left side to write
a list element can be used on the left side of a <i>modifying assignment</i>
to modify a list element.  It is a program error to try to modify
 an element that does not exist.
<p>
More Examples:
<pre class='example'>
<div class='line'>X</div>[3, 20, 1, 400]
<div class='line'>X[1] + = 1000</div
><div class='line'>X[0] * = 1000</div
><div class='line'>X</div>[3000, 1020, 1, 400]
<div class='line'>X[10] - = 5</div
>!!!!!!!!!!!!!!!!!!!!!!!!! ERROR: invalid operand(s)
* {43:152,21,158} SUB: * = nan &lt;= *NONE* - 5
!!!!!!!!!!!!!!!!!!!!!!!!! FATAL PROGRAM ERROR:
    SET: vector element does not exist
* {43:153,21,159} SET SET 16 1 1 *UNDEFINED_GEN(0x7FF4170000000000)*
    ARGS = [3000, 1020, 1, 400] 10
[no output due to run-time error]
</pre>
</p>

</div>

</body>

</html>







