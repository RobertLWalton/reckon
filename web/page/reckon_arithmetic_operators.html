<html>
<head>
<!--
File:	reckon_arithmetic_operators.html
Author:	Robert L Walton <walton@acm.org>
Date:	Sun Nov 10 06:52:03 EST 2024

The authors have placed RECKON (its files and the
content of these files) in the public domain; they
make no warranty and accept no liability for RECKON.
-->

<meta http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate" />

<title>RECKON Arithmetic Operators</title>
<link href='page.css' rel='stylesheet'/>
<link rel='icon' href='data:;base64,='>

<script src='page.script'></script>

</head>

<body>


<div id='header'>
<form method='GET' action='index.html#reckon_arithmetic_operators'>
<button type='submit'>INDEX</button></form>

<button type='button' onclick='NEW_WINDOW("index.html")'>
NEW WINDOW</button>
</div>

<div id='text'>

<h1 id='text-header'>RECKON Arithmetic Operators</h1>

<p>
</p>

<h2 id='arithmetic-operators'>Arithmetic Operators</h2>

<p>
<table class='top borders'>
<tr><th>Operator</th><th>Meaning</th><th>Fixity</th><th>Format</th>
                     <th>Precedence</th></tr>
<tr><th><a href='#comparisons'><code>==</code></a></th>
  <td>is equal</td><td>infix</td> <td>infix<sup>3</sup></td>
  <td>12000</td><tr>
<tr><th><a href='#comparisons'><code>!=</code></a></th>
  <td>is not equal</td><td>infix</td><td>infix<sup>3</sup></td>
  <td>12000</td><tr>
<tr><th><a href='#comparisons'><code>&lt;</code></a></th>
  <td>is less than</td><td>infix</td><td>infix<sup>3</sup></td>
  <td>12000</td><tr>
<tr><th><a href='#comparisons'><code>&lt;=</code></a></th>
  <td>is less than<br>or equal</td><td>infix</td><td>infix<sup>3</sup></td>
  <td>12000</td><tr>
<tr><th><a href='#comparisons'><code>&gt;</code></a></th>
  <td>is greater than</td><td>infix</td><td>infix<sup>3</sup></td>
  <td>12000</td><tr>
<tr><th><a href='#comparisons'><code>&gt;=</code></a></th
  ><td>is greater than<br>or equal</td><td>infix</td><td>infix<sup>3</sup></td>
  <td>12000</td><tr>
<tr><th><a href='#tests'><code>is integer</th>
  <td>is integer</code></a></td><td>posfix</td><td>unary posfix</td>
  <td>12000</td><tr>
<tr><th><a href='#tests'><code>is finite</th>
  <td>is finite</code></a></td><td>posfix</td><td>unary posfix</td>
  <td>12000</td><tr>
<tr><th><a href='#tests'><code>is infinite</th>
  <td>is infinite</code></a></td><td>posfix</td><td>unary posfix</td>
  <td>12000</td><tr>
<tr><th><a href='#tests'><code>is undefined<br> number</code></a></th>
  <td>is nan</td><td>posfix</td><td>unary posfix</td>
  <td>12000</td><tr>
<tr><th><a href='#tests'><code>is number</code></a></th>
  <td>is number</td><td>posfix</td><td>unary posfix</td>
  <td>12000</td><tr>
<tr><th><a href='#sums'><code>+</code></a></th>
  <td>addition</td><td>infix</td><td>infix<sup>4</sup></td>
  <td>13000</td><tr>
<tr><th><a href='#sums'><code>-</code></a></th>
  <td>subtraction</td><td>infix</td><td>infix<sup>4</sup></td>
  <td>13000</td><tr>
<tr><th><a href='#division'><code>/</code></a></th>
  <td>division</td><td>infix</td><td>binary</td>
  <td>13100</td><tr>
<tr><th><a href='#multiplication'><code>*</code></a></th>
  <td>multiplication</td><td>infix</td><td>infix<sup>5</sup></td>
  <td>13200</td><tr>
<tr><th><a href='#exponentiation'><code>^</code></a></th>
  <td>exponentiation</td><td>infix</td><td>binary</td>
  <td>13300</td><tr>
<tr><th><a href='#negation'><code>+</code></a></th>
  <td>no operation</td><td>prefix</td><td>unary prefix</td>
  <td>H-1</td><tr>
<tr><th><a href='#negation'><code>-</code></a></th>
  <td>negation</td><td>prefix</td><td>unary prefix</td>
  <td>H-1</td><tr>
</table>

<p>
<ul class='notes'>
<li> <sup>3</sup>The only operators allowed are
<b>==</b>, <b>!=</b>, <b>&lt;</b>, <b>&lt;=</b>, <b>&gt;</b>,
and <b>&gt;=</b>.
<li> <sup>4</sup>The only operators allowed are
<b>+</b> and <b>-</b>.
<li> <sup>5</sup>The only operator allowed is <b>*</b>.
</ul>

<p>
For a full table of RECKON operators and a complete explanation of
fixity, format, and precedence see
<a href='reckon_operators.html'>RECKON Operators</a>.

<p>
Higher precedence operators are evaluated before lower precedence
operators.  For example, in <code>x + y * z</code>, the subexpression
<code>y * z</code> is evaluated first and then the <code>+</code>
is evaluated.
<p>
A complete set of all the examples for this page is in
<a href='../examples/reckon_arithmetic_operators.rec' download>
<code>reckon_arithmetic_operators.rec </code></a>.

</p>

<h2 id='arithmetic-expression-evaluation'>Arithmetic Expression Evaluation</h2>

<p>
Whenever an arithmetic operation produces a finite number too
large to be stored, that number is converted to the corresponding
infinity and a numeric overflow error message is output.
<p>
When an arithmetic operation that should produce a number has a
<code>nan</code> operand, the operation produces a <code>nan</code>
result but NO error message is output.

<p>
Arithmetic expressions are evaluated according to the operators in them:

<dl class='space-title-words'>
<dt id='comparisons'>== != &lt; &lt;= &gt; &gt;=</dt>
<dd>The expression consists of an alternating sequence of operators
and operands beginning and ending with an operand.  Example:
<code>5 &lt; x &lt;= z</code>.  Evaluation is left to right and
stops as soon as a comparison evaluations to <code>FALSE</code>.
If no comparison is false, the expression evaluates to <code>TRUE</code>.
<br><br>
Operands not needed for the evaluation are not evaluated (e.g.,
in the example, if <code>5 &lt; x</code> is <code>FALSE</code>,
<code>z</code> is not evaluated).  Operands
shared by two operators (e.g. <code>x</code> in the example) are
only evaluated once.
<br><br>
Zeroes are signed and treated by other arithmetic operations as
being unknowably small numbers of their given sign, but for comparisons
both signed zeroes are treated as absolute zero.
<br><br>
Infinities are assumed to have absolute value larger than any finite number.
It is a run-time error if an attempt is made
to compare two infinities for equality,
to compare two infinities of like sign, or
to compare a <code>nan</code>.
<br><br>
Some examples are:
<pre class='example'>
<div class='line'>1 == 1</div>TRUE
<div class='line'>1 == 2</div>FALSE
<div class='line'>1 != 2</div>TRUE
<div class='line'>1 &lt; 2 &lt;= 3 &gt; -1 &gt;= -1</div>TRUE
<div class='line'>+0 == -0</div>TRUE
<div class='line'>+0 != -0</div>FALSE
<div class='line'>1 &lt; +inf</div>TRUE
<div class='line'>-inf &lt; 1</div>TRUE
<div class='line'>-inf &lt; +inf</div>TRUE
<div class='line'>+inf == +inf</div>!!! FATAL ERROR:  invalid operands to a conditional jump instruction
* {21:65,12,62} JMPNEQ location 68 with invalid operand(s)
[no output due to run-time error]
<div class='line'>+inf &lt; +inf</div>!!! FATAL ERROR:  invalid operands to a conditional jump instruction
* {22:71,15,65} JMPGEQ location 74 with invalid operand(s)
[no output due to run-time error]
<div class='line'>2 &lt; nan</div>!!! FATAL ERROR:  invalid operands to a conditional jump instruction
* {23:77,18,68} JMPGEQ location 80 with invalid operand(s)
[no output due to run-time error]
<div class='line'>nan == nan</div>!!! FATAL ERROR:  invalid operands to a conditional jump instruction
* {24:83,21,71} JMPNEQ location 86 with invalid operand(s)
[no output due to run-time error]
</pre>
</dd>
<br>
<dt id='tests'><code>is integer</code> <code>is finite</code>
    <code>is infinite</code> <code>is undefined number</code><br>
    <code>is number</code></dt>
<dd>
The expression consists of just an operand followed by an operator.
The operand is evaluated and tested by the operator which returns
<code>TRUE</code> or <code>FALSE</code>.
<br><br>
The operand is a number if it is a finite (includes integers),
infinite, or undefined number (nan).
<br><br>
These operators consider signed zeroes to be integers and NOT unknowably small
non-zero numbers.
<br><br>
Some examples are:
<pre class='example'>
<div class='line'>1 is integer</div>TRUE
<div class='line'>-0 is integer</div>TRUE
<div class='line'>1.5 is integer</div>FALSE
<div class='line'>1 is finite</div>TRUE
<div class='line'>1.5 is finite</div>TRUE
<div class='line'>1 is infinite</div>FALSE
<div class='line'>-inf is infinite</div>TRUE
<div class='line'>1 is undefined number</div>FALSE
<div class='line'>nan is undefined number</div>TRUE
<div class='line'>1 is number</div>TRUE
<div class='line'>"hello" is number</div>FALSE
</pre>
</dd>
<br>
<dt id='sums'>infix+ infix-</dt>
<dd>The expression consists of an alternating sequence of operators
and operands beginning and ending with an operand.  Example:
<code>5 + x - z</code>.  Evaluation is left to right (e.g.,
<code>5 + x</code> is evaluated first and then <code>z</code>
is subtraced from the result).
<br><br>
If both operands are infinities
of opposite signed for <code>+</code>, or the same sign for
<code>-</code>, a <code>nan</code> result is produced
along with an invalid operand error message.
<br><br>
Some examples are:
<pre class='example'>
<div class='line'>1 + 2</div>3
<div class='line'>1 + 2 - 3 + 4 - 5</div>-1
<div class='line'>+inf + 2</div>inf
<div class='line'>-inf + 2</div>-inf
<div class='line'>+inf + +inf</div>inf
<div class='line'>+inf + -inf</div>!!! ERROR: invalid operand(s)
* {47:169,39,140} ADD: * = -nan <= inf + -inf
-nan
<div class='line'>+inf - +inf</div>!!! ERROR: invalid operand(s)
* {48:172,40,143} SUB: * = -nan <= inf - inf
-nan
<div class='line'>nan + 2</div>nan
<div class='line'>1e308 + 1e308</div>!!! ERROR: numeric overflow
* {50:178,42,149} ADD: * = inf <= 1e+308 + 1e+308
inf
</pre>
</dd>
<br>
<dt id='division'>/ (division)</dt>
<dd>
<dd>The expression consists of a dividend operand followed by the <code>/</code>
division operator followed by a divisor operand.  Division of integers
may produce a fraction (e.g., <code>9 / 2 == 4.5</code>).
<br><br>
Only two operands are allowed in a division expression (e.g.,
<code>x / y / z</code> is not allowed).
<br><br>
Division has lower precedence than multiplication, so that, for example,<br>
<code>x * y / z * w == (x * y) / (z * w)</code>.
<br><br>
Division of a finite number by an infinity produces a signed zero which
represents a unknowably small number with the given sign.
NO error message is produced.
<br><br>
Division of a non-zero by a zero produces an infinity.
Zeroes are signed and treated as if they were unknowably small numbers of
their given sign, allowing the sign of the resulting infinity to be
computed.  An divide by zero error message
is also output unless the dividend being divided is an infinity.
<br><br>
If operands being infinities
or both being zeros,
a <code>nan</code> result is produced along with an invalid operand
error message.
<br><br>
Some examples are:
<pre class='example'>
<div class='line'>100 / 5</div>20
<div class='line'>-26 / 13</div>-2
<div class='line'>5 / 2</div>2.5
<div class='line'>1 / +inf</div>0
<div class='line'>-2 / +inf</div>-0
<div class='line'>5 / -0</div>!!! ERROR: divide by zero
* {66:208,52,179} DIV: * = -inf <= 5 / -0
-inf
<div class='line'>-inf / -0</div>inf
<div class='line'>+inf / +inf</div>!!! ERROR: invalid operand(s)
* {68:214,54,185} DIV: * = -nan <= inf / inf
-nan
<div class='line'>-0 / +0</div>!!! ERROR: invalid operand(s)
* {69:217,55,188} DIV: * = -nan <= -0 / 0
-nan
</pre>
</dd>
<br>
<dt id='multiplication'>* (multiplication)</dt>
<dd>
<dd>The expression consists an alternating
sequence of factor operands and <code>*</code>
multiplication operators beginning and ending with a factor operand.
There may be more than two factor operands.
<br><br>
If one factor operand is zero and the
other is an infinity,
a <code>nan</code> is produced along with an error message.
<br><br>
Some examples are:
<pre class='example'>
<div class='line'>2 * 3</div>6
<div class='line'>2 * -3</div>-6
<div class='line'>1e200 * 1e200</div>!!! ERROR: numeric overflow
* {56:187,45,158} MUL: * = inf <= 1e+200 * 1e+200
inf
<div class='line'>+0 * -inf</div>!!! ERROR: invalid operand(s)
* {57:190,46,161} MUL: * = -nan <= 0 * -inf
-nan
</pre>
</dd>
<br>
<dt id='exponentiation'>^ (exponentiation)</dt>
<dd>
<dd>The expression consists a basis operand
followed by the <code>^</code> operator followed by the power
operand.  Example: <code>2 ^ 4 == 2 * 2 * 2 * 2 == 64</code>.
<br><br>
For all integers <code>y</code>, and all numbers <code>x</code>
(including <code>nan</code>), <code>x ^ y</code> is defined by
<br><br>
<div class='center'><code>x ^ 0 = 1</code></div>
<div class='center'><code>x ^ y = x * x ^ ( y - 1 )   if y &gt; 0</code></div>
<div class='center'><code>x ^ y = x ^ ( y + 1 ) / x   if y &lt; 0</code></div>
<br>
Numeric overflow and divide by zero errors happen when dictated
by these equations (e.g., in <code>10 ^ 1000</code> and <code>0 ^ -5</code>
respectively).
<br><br>
Otherwise if the power operand is not an integer and the base operand is
strictly negative a <code>nan</code> results along with an invalid
operand error message.
<br><br>
Some examples are:
<pre class='example'>
<div class='line'>2 ^ 10</div>1024
<div class='line'>10 ^ -3</div>0.001
<div class='line'>2 ^ 0</div>1
<div class='line'>0 ^ 0</div>1
<div class='line'>1.5 ^ 0</div>1
<div class='line'>-1.5 ^ 0</div>1
<div class='line'>+inf ^ 0</div>1
<div class='line'>-inf ^ 0</div>1
<div class='line'>nan ^ 0</div>1
<div class='line'>-1.5 ^ 5</div>-7.59375
<div class='line'>+inf ^ 5</div>inf
<div class='line'>-inf ^ 5</div>-inf
<div class='line'>nan ^ 5</div>nan
<div class='line'>-5 ^ 2</div>25
<div class='line'>-1 ^ 1e15</div>1
<div class='line'>-2 ^ 1e15</div>!!! ERROR: numeric overflow
* {89:271,72,241} POW: * = inf <= -2 pow 1e+15
inf
<div class='line'>2 ^ -3</div>0.125
<div class='line'>0 ^ -3</div>!!! ERROR: divide by zero
* {91:277,74,247} POW: * = inf <= 0 pow -3
inf
<div class='line'>-inf ^ -3</div>-0
<div class='line'>nan ^ -3</div>nan
<div class='line'>2 ^ 0.5</div>1.4142135623731
<div class='line'>-2 ^ 0.5</div>!!! ERROR: invalid operand(s)
* {95:289,78,259} POW: * = -nan <= -2 pow 0.5
-nan
<div class='line'>0 ^ 0.5</div>0
<div class='line'>1e-200 ^ 0.5</div>1e-100
</pre>
</dd>
<br>
<dt id='negation' class='pagebreak'>prefix+ prefix-</dt>
<dd>
<dd>The expression consists of an operator followed by an operand.
<br><br>
Prefix <code>+</code> copies its operand to its result if the operand
is a number (including <code>nan</code>).
Prefix <code>-</code> does the same but inverts the sign of the result.
<br><br>
Some examples are:
<pre class='example'>
<div class='line'>+ 2.5</div>2.5
<div class='line'>+ -inf</div>-inf
<div class='line'>+ -nan</div>-nan
<div class='line'>- 2.5</div>-2.5
<div class='line'>- -inf</div>inf
<div class='line'>- -nan</div>nan
</pre>
</dd>
</dl>

</p>

</div>

</body>

</html>




