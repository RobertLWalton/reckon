* {0:0,1,1} PUSHI: *FALSE* <= *FALSE*
* {0:1,2,2} PUSHI: *TRUE* <= *TRUE*
* {0:2,3,3} PUSHI: *NONE* <= *NONE*
// Reckon Language Function Test Data
//
// File:        reckon_functions.rec
// Author:      Bob Walton (walton@acm.org)
// Date:        Sat May 17 12:36:45 AM EDT 2025
//
// The authors have placed this data in the public
// domain; they make no warranty and accept no liability
// for this data.

function add (X) (Y):
    Z = X + Y
    return Z
* {11:3,3,4} BEGF

Z = add (5) (7)
* {15:10,4,5} PUSHI: * <= 5
* {15:11,5,6} PUSHI: * <= 7
* {15:12,5,7} CALLG to BEGF: add, X=5, Y=7
*** {12:4,6,8} PUSHA: * <= X = 5
*** {12:5,7,9} PUSHA: * <= Y = 7
*** {12:6,6,10} ADD: Z = 12 <= 5 + 7
*** {13:7,7,11} PUSHS: * <= Z = 12
*** {13:8,4,12} RET to CALLG: add, Z=12

function (X) sub (Y): return X - Y;
* {17:13,4,13} BEGF

W = (5) sub (7)
* {19:19,5,14} PUSHI: * <= 5
* {19:20,6,15} PUSHI: * <= 7
* {19:21,6,16} CALLG to BEGF: sub, X=5, Y=7
*** {17:14,7,17} PUSHA: * <= X = 5
*** {17:15,8,18} PUSHA: * <= Y = 7
*** {17:16,7,19} SUB: * = -2 <= 5 - 7
*** {17:17,5,20} RET to CALLG: sub, W=-2

function sum from (X) to (Y):
    S = 0
    while X <= Y:
        next S + = X
        next X + = 1
    return S
* {21:22,5,21} BEGF

sum from (1) to (10)
* {28:42,6,22} PUSHI: * <= 1
* {28:43,7,23} PUSHI: * <= 10
* {28:44,7,24} CALLG to BEGF: sum from, X=1, Y=10
*** {22:23,8,25} PUSHI: S <= 0
*** {24:24,9,26} PUSHS: S <= S = 0
*** {25:25,10,27} PUSHA: X <= X = 1
*** {25:26,12,28} BEGL: loop, S=0, X=1
***** {23:27,13,29} PUSHS: * <= X = 1
***** {23:28,14,30} PUSHA: * <= Y = 10
***** {23:29,12,31} JMPGT location 39 is UNsuccessful: false <= 1 > 10
***** {24:30,13,32} PUSHS: * <= next S = 0
***** {24:31,14,33} PUSHS: * <= X = 1
***** {24:32,13,34} ADD: * = 1 <= 0 + 1
***** {24:33,12,35} POPS: next S <= * = 1
***** {25:34,13,36} PUSHS: * <= next X = 1
***** {25:35,14,37} PUSHI: * <= 1
***** {25:36,13,38} ADD: * = 2 <= 1 + 1
***** {25:37,12,39} POPS: next X <= * = 2
***** {25:38,12,40} ENDL: loop, S=1, X=2
***** {23:27,13,41} PUSHS: * <= X = 2
***** {23:28,14,42} PUSHA: * <= Y = 10
***** {23:29,12,43} JMPGT location 39 is UNsuccessful: false <= 2 > 10
***** {24:30,13,44} PUSHS: * <= next S = 1
***** {24:31,14,45} PUSHS: * <= X = 2
***** {24:32,13,46} ADD: * = 3 <= 1 + 2
***** {24:33,12,47} POPS: next S <= * = 3
***** {25:34,13,48} PUSHS: * <= next X = 2
***** {25:35,14,49} PUSHI: * <= 1
***** {25:36,13,50} ADD: * = 3 <= 2 + 1
***** {25:37,12,51} POPS: next X <= * = 3
***** {25:38,12,52} ENDL: loop, S=3, X=3
***** {23:27,13,53} PUSHS: * <= X = 3
***** {23:28,14,54} PUSHA: * <= Y = 10
***** {23:29,12,55} JMPGT location 39 is UNsuccessful: false <= 3 > 10
***** {24:30,13,56} PUSHS: * <= next S = 3
***** {24:31,14,57} PUSHS: * <= X = 3
***** {24:32,13,58} ADD: * = 6 <= 3 + 3
***** {24:33,12,59} POPS: next S <= * = 6
***** {25:34,13,60} PUSHS: * <= next X = 3
***** {25:35,14,61} PUSHI: * <= 1
***** {25:36,13,62} ADD: * = 4 <= 3 + 1
***** {25:37,12,63} POPS: next X <= * = 4
***** {25:38,12,64} ENDL: loop, S=6, X=4
***** {23:27,13,65} PUSHS: * <= X = 4
***** {23:28,14,66} PUSHA: * <= Y = 10
***** {23:29,12,67} JMPGT location 39 is UNsuccessful: false <= 4 > 10
***** {24:30,13,68} PUSHS: * <= next S = 6
***** {24:31,14,69} PUSHS: * <= X = 4
***** {24:32,13,70} ADD: * = 10 <= 6 + 4
***** {24:33,12,71} POPS: next S <= * = 10
***** {25:34,13,72} PUSHS: * <= next X = 4
***** {25:35,14,73} PUSHI: * <= 1
***** {25:36,13,74} ADD: * = 5 <= 4 + 1
***** {25:37,12,75} POPS: next X <= * = 5
***** {25:38,12,76} ENDL: loop, S=10, X=5
***** {23:27,13,77} PUSHS: * <= X = 5
***** {23:28,14,78} PUSHA: * <= Y = 10
***** {23:29,12,79} JMPGT location 39 is UNsuccessful: false <= 5 > 10
***** {24:30,13,80} PUSHS: * <= next S = 10
***** {24:31,14,81} PUSHS: * <= X = 5
***** {24:32,13,82} ADD: * = 15 <= 10 + 5
***** {24:33,12,83} POPS: next S <= * = 15
***** {25:34,13,84} PUSHS: * <= next X = 5
***** {25:35,14,85} PUSHI: * <= 1
***** {25:36,13,86} ADD: * = 6 <= 5 + 1
***** {25:37,12,87} POPS: next X <= * = 6
***** {25:38,12,88} ENDL: loop, S=15, X=6
***** {23:27,13,89} PUSHS: * <= X = 6
***** {23:28,14,90} PUSHA: * <= Y = 10
***** {23:29,12,91} JMPGT location 39 is UNsuccessful: false <= 6 > 10
***** {24:30,13,92} PUSHS: * <= next S = 15
***** {24:31,14,93} PUSHS: * <= X = 6
***** {24:32,13,94} ADD: * = 21 <= 15 + 6
***** {24:33,12,95} POPS: next S <= * = 21
***** {25:34,13,96} PUSHS: * <= next X = 6
***** {25:35,14,97} PUSHI: * <= 1
***** {25:36,13,98} ADD: * = 7 <= 6 + 1
***** {25:37,12,99} POPS: next X <= * = 7
***** {25:38,12,100} ENDL: loop, S=21, X=7
***** {23:27,13,101} PUSHS: * <= X = 7
***** {23:28,14,102} PUSHA: * <= Y = 10
***** {23:29,12,103} JMPGT location 39 is UNsuccessful: false <= 7 > 10
***** {24:30,13,104} PUSHS: * <= next S = 21
***** {24:31,14,105} PUSHS: * <= X = 7
***** {24:32,13,106} ADD: * = 28 <= 21 + 7
***** {24:33,12,107} POPS: next S <= * = 28
***** {25:34,13,108} PUSHS: * <= next X = 7
***** {25:35,14,109} PUSHI: * <= 1
***** {25:36,13,110} ADD: * = 8 <= 7 + 1
***** {25:37,12,111} POPS: next X <= * = 8
***** {25:38,12,112} ENDL: loop, S=28, X=8
***** {23:27,13,113} PUSHS: * <= X = 8
***** {23:28,14,114} PUSHA: * <= Y = 10
***** {23:29,12,115} JMPGT location 39 is UNsuccessful: false <= 8 > 10
***** {24:30,13,116} PUSHS: * <= next S = 28
***** {24:31,14,117} PUSHS: * <= X = 8
***** {24:32,13,118} ADD: * = 36 <= 28 + 8
***** {24:33,12,119} POPS: next S <= * = 36
***** {25:34,13,120} PUSHS: * <= next X = 8
***** {25:35,14,121} PUSHI: * <= 1
***** {25:36,13,122} ADD: * = 9 <= 8 + 1
***** {25:37,12,123} POPS: next X <= * = 9
***** {25:38,12,124} ENDL: loop, S=36, X=9
***** {23:27,13,125} PUSHS: * <= X = 9
***** {23:28,14,126} PUSHA: * <= Y = 10
***** {23:29,12,127} JMPGT location 39 is UNsuccessful: false <= 9 > 10
***** {24:30,13,128} PUSHS: * <= next S = 36
***** {24:31,14,129} PUSHS: * <= X = 9
***** {24:32,13,130} ADD: * = 45 <= 36 + 9
***** {24:33,12,131} POPS: next S <= * = 45
***** {25:34,13,132} PUSHS: * <= next X = 9
***** {25:35,14,133} PUSHI: * <= 1
***** {25:36,13,134} ADD: * = 10 <= 9 + 1
***** {25:37,12,135} POPS: next X <= * = 10
***** {25:38,12,136} ENDL: loop, S=45, X=10
***** {23:27,13,137} PUSHS: * <= X = 10
***** {23:28,14,138} PUSHA: * <= Y = 10
***** {23:29,12,139} JMPGT location 39 is UNsuccessful: false <= 10 > 10
***** {24:30,13,140} PUSHS: * <= next S = 45
***** {24:31,14,141} PUSHS: * <= X = 10
***** {24:32,13,142} ADD: * = 55 <= 45 + 10
***** {24:33,12,143} POPS: next S <= * = 55
***** {25:34,13,144} PUSHS: * <= next X = 10
***** {25:35,14,145} PUSHI: * <= 1
***** {25:36,13,146} ADD: * = 11 <= 10 + 1
***** {25:37,12,147} POPS: next X <= * = 11
***** {25:38,12,148} ENDL: loop, S=55, X=11
***** {23:27,13,149} PUSHS: * <= X = 11
***** {23:28,14,150} PUSHA: * <= Y = 10
***** {23:29,10,151} JMPGT location 39 is successful: true <= 11 > 10
*** {26:39,11,152} PUSHS: * <= S = 55
*** {26:40,6,153} RET to CALLG: sum from, *=55

function sum (L):
    S = 0
    E = L[]
    until E == *NONE*:
        next S + = E
        next E = L[]
    return S
* {30:45,6,154} BEGF

sum ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
* {38:69,7,155} PUSHOBJ: * <= NEW OBJ ( 20, 2)
* {38:70,8,156} PUSHI: * <= "["
* {38:71,7,157} SETI: *[".initiator"] <= * = "["
* {38:72,8,158} PUSHI: * <= "]"
* {38:73,7,159} SETI: *[".terminator"] <= * = "]"
* {38:74,8,160} PUSHI: * <= ","
* {38:75,7,161} SETI: *[".separator"] <= * = ","
* {38:76,8,162} PUSHI: * <= 1
* {38:77,7,163} VPUSH: PUSHED * <= * = 1
* {38:78,8,164} PUSHI: * <= 2
* {38:79,7,165} VPUSH: PUSHED * <= * = 2
* {38:80,8,166} PUSHI: * <= 3
* {38:81,7,167} VPUSH: PUSHED * <= * = 3
* {38:82,8,168} PUSHI: * <= 4
* {38:83,7,169} VPUSH: PUSHED * <= * = 4
* {38:84,8,170} PUSHI: * <= 5
* {38:85,7,171} VPUSH: PUSHED * <= * = 5
* {38:86,8,172} PUSHI: * <= 6
* {38:87,7,173} VPUSH: PUSHED * <= * = 6
* {38:88,8,174} PUSHI: * <= 7
* {38:89,7,175} VPUSH: PUSHED * <= * = 7
* {38:90,8,176} PUSHI: * <= 8
* {38:91,7,177} VPUSH: PUSHED * <= * = 8
* {38:92,8,178} PUSHI: * <= 9
* {38:93,7,179} VPUSH: PUSHED * <= * = 9
* {38:94,8,180} PUSHI: * <= 10
* {38:95,7,181} VPUSH: PUSHED * <= * = 10
* {38:96,7,182} CALLG to BEGF: sum, L=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
*** {31:46,8,183} PUSHI: S <= 0
*** {32:47,9,184} PUSHA: L <= L = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
*** {32:48,10,185} VPOP: E <= POPPED L = 10
*** {32:49,9,186} DEL sp[-2..-2] <= sp[-1..-1]
*** {34:50,10,187} PUSHS: S <= S = 0
*** {35:51,11,188} PUSHS: E <= E = 10
*** {35:52,13,189} BEGL: loop, S=0, E=10
***** {33:53,14,190} PUSHS: * <= E = 10
***** {33:54,15,191} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,192} JMPNEQ location 57 is successful: true <= 10
                     != *NONE*
***** {34:57,14,193} PUSHS: * <= next S = 0
***** {34:58,15,194} PUSHS: * <= E = 10
***** {34:59,14,195} ADD: * = 10 <= 0 + 10
***** {34:60,13,196} POPS: next S <= * = 10
***** {35:61,14,197} PUSHA: L <= L = [1, 2, 3, 4, 5, 6, 7, 8, 9]
***** {35:62,15,198} VPOP: next E <= POPPED L = 9
***** {35:63,14,199} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,200} POPS: next E <= * = 9
***** {35:65,13,201} ENDL: loop, S=10, E=9
***** {33:53,14,202} PUSHS: * <= E = 9
***** {33:54,15,203} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,204} JMPNEQ location 57 is successful: true <= 9
                     != *NONE*
***** {34:57,14,205} PUSHS: * <= next S = 10
***** {34:58,15,206} PUSHS: * <= E = 9
***** {34:59,14,207} ADD: * = 19 <= 10 + 9
***** {34:60,13,208} POPS: next S <= * = 19
***** {35:61,14,209} PUSHA: L <= L = [1, 2, 3, 4, 5, 6, 7, 8]
***** {35:62,15,210} VPOP: next E <= POPPED L = 8
***** {35:63,14,211} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,212} POPS: next E <= * = 8
***** {35:65,13,213} ENDL: loop, S=19, E=8
***** {33:53,14,214} PUSHS: * <= E = 8
***** {33:54,15,215} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,216} JMPNEQ location 57 is successful: true <= 8
                     != *NONE*
***** {34:57,14,217} PUSHS: * <= next S = 19
***** {34:58,15,218} PUSHS: * <= E = 8
***** {34:59,14,219} ADD: * = 27 <= 19 + 8
***** {34:60,13,220} POPS: next S <= * = 27
***** {35:61,14,221} PUSHA: L <= L = [1, 2, 3, 4, 5, 6, 7]
***** {35:62,15,222} VPOP: next E <= POPPED L = 7
***** {35:63,14,223} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,224} POPS: next E <= * = 7
***** {35:65,13,225} ENDL: loop, S=27, E=7
***** {33:53,14,226} PUSHS: * <= E = 7
***** {33:54,15,227} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,228} JMPNEQ location 57 is successful: true <= 7
                     != *NONE*
***** {34:57,14,229} PUSHS: * <= next S = 27
***** {34:58,15,230} PUSHS: * <= E = 7
***** {34:59,14,231} ADD: * = 34 <= 27 + 7
***** {34:60,13,232} POPS: next S <= * = 34
***** {35:61,14,233} PUSHA: L <= L = [1, 2, 3, 4, 5, 6]
***** {35:62,15,234} VPOP: next E <= POPPED L = 6
***** {35:63,14,235} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,236} POPS: next E <= * = 6
***** {35:65,13,237} ENDL: loop, S=34, E=6
***** {33:53,14,238} PUSHS: * <= E = 6
***** {33:54,15,239} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,240} JMPNEQ location 57 is successful: true <= 6
                     != *NONE*
***** {34:57,14,241} PUSHS: * <= next S = 34
***** {34:58,15,242} PUSHS: * <= E = 6
***** {34:59,14,243} ADD: * = 40 <= 34 + 6
***** {34:60,13,244} POPS: next S <= * = 40
***** {35:61,14,245} PUSHA: L <= L = [1, 2, 3, 4, 5]
***** {35:62,15,246} VPOP: next E <= POPPED L = 5
***** {35:63,14,247} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,248} POPS: next E <= * = 5
***** {35:65,13,249} ENDL: loop, S=40, E=5
***** {33:53,14,250} PUSHS: * <= E = 5
***** {33:54,15,251} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,252} JMPNEQ location 57 is successful: true <= 5
                     != *NONE*
***** {34:57,14,253} PUSHS: * <= next S = 40
***** {34:58,15,254} PUSHS: * <= E = 5
***** {34:59,14,255} ADD: * = 45 <= 40 + 5
***** {34:60,13,256} POPS: next S <= * = 45
***** {35:61,14,257} PUSHA: L <= L = [1, 2, 3, 4]
***** {35:62,15,258} VPOP: next E <= POPPED L = 4
***** {35:63,14,259} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,260} POPS: next E <= * = 4
***** {35:65,13,261} ENDL: loop, S=45, E=4
***** {33:53,14,262} PUSHS: * <= E = 4
***** {33:54,15,263} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,264} JMPNEQ location 57 is successful: true <= 4
                     != *NONE*
***** {34:57,14,265} PUSHS: * <= next S = 45
***** {34:58,15,266} PUSHS: * <= E = 4
***** {34:59,14,267} ADD: * = 49 <= 45 + 4
***** {34:60,13,268} POPS: next S <= * = 49
***** {35:61,14,269} PUSHA: L <= L = [1, 2, 3]
***** {35:62,15,270} VPOP: next E <= POPPED L = 3
***** {35:63,14,271} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,272} POPS: next E <= * = 3
***** {35:65,13,273} ENDL: loop, S=49, E=3
***** {33:53,14,274} PUSHS: * <= E = 3
***** {33:54,15,275} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,276} JMPNEQ location 57 is successful: true <= 3
                     != *NONE*
***** {34:57,14,277} PUSHS: * <= next S = 49
***** {34:58,15,278} PUSHS: * <= E = 3
***** {34:59,14,279} ADD: * = 52 <= 49 + 3
***** {34:60,13,280} POPS: next S <= * = 52
***** {35:61,14,281} PUSHA: L <= L = [1, 2]
***** {35:62,15,282} VPOP: next E <= POPPED L = 2
***** {35:63,14,283} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,284} POPS: next E <= * = 2
***** {35:65,13,285} ENDL: loop, S=52, E=2
***** {33:53,14,286} PUSHS: * <= E = 2
***** {33:54,15,287} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,288} JMPNEQ location 57 is successful: true <= 2
                     != *NONE*
***** {34:57,14,289} PUSHS: * <= next S = 52
***** {34:58,15,290} PUSHS: * <= E = 2
***** {34:59,14,291} ADD: * = 54 <= 52 + 2
***** {34:60,13,292} POPS: next S <= * = 54
***** {35:61,14,293} PUSHA: L <= L = [1]
***** {35:62,15,294} VPOP: next E <= POPPED L = 1
***** {35:63,14,295} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,296} POPS: next E <= * = 1
***** {35:65,13,297} ENDL: loop, S=54, E=1
***** {33:53,14,298} PUSHS: * <= E = 1
***** {33:54,15,299} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,300} JMPNEQ location 57 is successful: true <= 1
                     != *NONE*
***** {34:57,14,301} PUSHS: * <= next S = 54
***** {34:58,15,302} PUSHS: * <= E = 1
***** {34:59,14,303} ADD: * = 55 <= 54 + 1
***** {34:60,13,304} POPS: next S <= * = 55
***** {35:61,14,305} PUSHA: L <= L = []
***** {35:62,15,306} VPOP: next E <= POPPED L = *NONE*
***** {35:63,14,307} DEL sp[-2..-2] <= sp[-1..-1]
***** {35:64,13,308} POPS: next E <= * = *NONE*
***** {35:65,13,309} ENDL: loop, S=55, E=*NONE*
***** {33:53,14,310} PUSHS: * <= E = *NONE*
***** {33:54,15,311} PUSHL: * <= *NONE* = *NONE*
***** {33:55,13,312} JMPNEQ location 57 is UNsuccessful: false <= *NONE*
                     != *NONE*
***** {33:56,11,313} JMP location 66
*** {36:66,12,314} PUSHS: * <= S = 55
*** {36:67,7,315} RET to CALLG: sum, *=55
